{% extends 'manga/manga-base.html' %}
{% import '_macros/forms.html' as forms with context %}

{% block title %}{% trans title=manga.title %}Edit: {{ title }}{% endtrans %}{% endblock %}

{% block content %}
    <form action="" method="post" enctype="multipart/form-data">
        <div class="container-fat manga-edit-main">
            {{ forms.csrf_token(csrf_token) }}
            {{ forms.non_field_errors(form) }}
            <div class="half-wrapper">
                <div class="half half-md">
                    {{ forms.field(form.title) }}
                    {{ forms.field(form.markdown) }}
                    {{ forms.field_file(form.cover, manga.cover, 'manga-cover') }}
                </div>
                <div class="half half-md">
                    <label>{% trans %}Tags{% endtrans %}</label>
                    <table class="table-full-border space-bottom-15 manga-edit-inputs">
                        <tr>
                            <td width="120">{{ form.authors.label_tag() }}</td>
                            <td>{{ form.authors }}</td>
                        </tr>
                        <tr>
                            <td width="120">{{ form.circles.label_tag() }}</td>
                            <td>{{ form.circles }}</td>
                        </tr>
                        <tr>
                            <td width="120">{{ form.content.label_tag() }}</td>
                            <td>{{ form.content }}</td>
                        </tr>
                        <tr>
                            <td width="120">{{ form.events.label_tag() }}</td>
                            <td>{{ form.events }}</td>
                        </tr>
                        <tr>
                            <td width="120">{{ form.magazines.label_tag() }}</td>
                            <td>{{ form.magazines }}</td>
                        </tr>
                        <tr>
                            <td width="120">{{ form.parodies.label_tag() }}</td>
                            <td>{{ form.parodies }}</td>
                        </tr>
                        <tr>
                            <td width="120">{{ form.scanlators.label_tag() }}</td>
                            <td>{{ form.scanlators }}</td>
                        </tr>
                    </table>
                    <table class="table-full-border space-bottom-15 manga-edit-inputs">
                        <tr>
                            <td width="120">{{ form.tank.label_tag() }}</td>
                            <td>{{ form.tank }}</td>
                            <td width="80">{{ form.tank_chapter.label_tag() }}</td>
                            <td width="100">{{ form.tank_chapter }}</td>
                        </tr>
                    </table>
                    <table class="table-full-border space-bottom-15 manga-edit-inputs">
                        <tr>
                            <td width="120">{{ form.collection.label_tag() }}</td>
                            <td>{{ form.collection }}</td>
                            <td width="80">{{ form.collection_part.label_tag() }}</td>
                            <td width="100">{{ form.collection_part }}</td>
                        </tr>
                    </table>
                    <table class="table-full-border space-bottom manga-edit-inputs">
                        <tr>
                            <td width="120">{{ form.category.label_tag() }}</td>
                            <td>
                                <div class="manga-edit-category-table">
                                    <table>
                                        <tr>
                                            <td width="30"><input id="id_category_0" name="category" type="radio" value="NON-H"{% if form.category.value() == "NON-H" %} checked="checked"{% endif %}></td>
                                            <td width="85"><label for="id_category_0"><div class="manga-category manga-category-non_h block">{% trans %}Non-H{% endtrans %}</div></label></td>
                                            <td><label for="id_category_0">{% trans %}Non-pornographic doujinshi, no nudity.{% endtrans %}</label></td>
                                        </tr>
                                        <tr>
                                            <td><input id="id_category_1" name="category" type="radio" value="ECCHI"{% if form.category.value() == "ECCHI" %} checked="checked"{% endif %}></td>
                                            <td><label for="id_category_1"><div class="manga-category manga-category-ecchi">{% trans %}Ecchi{% endtrans %}</div></label></td>
                                            <td><label for="id_category_1">{% trans %}Only softcore nudity is permitted.{% endtrans %}</label></td>
                                        </tr>
                                        <tr>
                                            <td><input id="id_category_2" name="category" type="radio" value="VANILLA"{% if form.category.value() == "VANILLA" %} checked="checked"{% endif %}></td>
                                            <td><label for="id_category_2"><div class="manga-category manga-category-vanilla">{% trans %}Vanilla{% endtrans %}</div></label></td>
                                            <td><label for="id_category_2">{% trans %}Mild adult content, cute/romantic stories.{% endtrans %}</label></td>
                                        </tr>
                                        <tr>
                                            <td><input id="id_category_3" name="category" type="radio" value="ALTERNATIVE"{% if form.category.value() == "ALTERNATIVE" %} checked="checked"{% endif %}></td>
                                            <td><label for="id_category_3"><div class="manga-category manga-category-alternative">{% trans %}Alternative{% endtrans %}</div></label></td>
                                            <td><label for="id_category_3">{% trans %}Futunari, BDSM, tentacles, NTR, mind-break, monster girls.{% endtrans %}</label></td>
                                        </tr>
                                        <tr>
                                            <td><input id="id_category_4" name="category" type="radio" value="YURI"{% if form.category.value() == "YURI" %} checked="checked"{% endif %}></td>
                                            <td><label for="id_category_4"><div class="manga-category manga-category-yuri">{% trans %}Yuri{% endtrans %}</div></label></td>
                                            <td><label for="id_category_4">{% trans %}Contains two or more women, no men.{% endtrans %}</label></td>
                                        </tr>
                                        <tr>
                                            <td><input id="id_category_5" name="category" type="radio" value="YAOI"{% if form.category.value() == "YAOI" %} checked="checked"{% endif %}></td>
                                            <td><label for="id_category_5"><div class="manga-category manga-category-yaoi">{% trans %}Yaoi{% endtrans %}</div></label></td>
                                            <td><label for="id_category_5">{% trans %}Boys' Love, male sexual relationships (bara included).{% endtrans %}</label></td>
                                        </tr>
                                        <tr>
                                            <td><input id="id_category_6" name="category" type="radio" value="OTHER"{% if form.category.value() == "OTHER" %} checked="checked"{% endif %}></td>
                                            <td><label for="id_category_6"><div class="manga-category manga-category-other">{% trans %}Other{% endtrans %}</div></label></td>
                                            <td><label for="id_category_6">{% trans %}This does not fit into any other categories.{% endtrans %}</label></td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td width="120">{{ form.language.label_tag() }}</td>
                            <td>{{ form.language }}</td>
                        </tr>
                        <tr>
                            <td width="120">{{ form.uncensored.label_tag() }}</td>
                            <td>{{ form.uncensored }}</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        <div class="manga-edit-sidebar">
            <label>&nbsp;</label>
            <div class="well">
                <button type="submit" class="btn btn-primary">{% trans %}Save{% endtrans %}</button>
                {% if manga.status == 'DRAFT' %}
                    <button type="submit" class="btn btn-warning">{% trans %}Save and Publish{% endtrans %}</button>
                    <button type="submit" class="btn btn-error">{% trans %}Delete{% endtrans %}</button>
                {% endif %}
            </div>
        </div>
    </form>
{% endblock %}
