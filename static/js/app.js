// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var $navbar, VERTICAL_BUFFER, checkAndLoadImages, isElementInViewport;
    $navbar = $('nav');
    $('#header-menu-icon').click(function() {
      return $navbar.toggleClass('active');
    });
    if ($('.lazy-image').length) {
      VERTICAL_BUFFER = 500;
      isElementInViewport = function(el) {
        var rect;
        rect = el.getBoundingClientRect();
        return rect.top >= 0 - VERTICAL_BUFFER && rect.right <= $(window).width() && rect.bottom <= $(window).height() + VERTICAL_BUFFER && rect.left >= 0;
      };
      checkAndLoadImages = function() {
        return $('.lazy-image').each(function() {
          var src;
          if (isElementInViewport(this)) {
            if (window.devicePixelRatio > 1 && $(this).attr('data-src-retina')) {
              src = $(this).attr('data-src-retina');
            } else {
              src = $(this).attr('data-src');
            }
            $(this).attr('src', src);
            return $(this).removeClass('lazy-image');
          }
        });
      };
      return $(window).on('load scroll resize', checkAndLoadImages);
    }
  });

}).call(this);
